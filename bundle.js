webpackJsonp([1],{0:function(e,t,n){e.exports=n(94)},94:function(e,t,n){(function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}n(109),n(110);var o=n(96),s=a(o),l=n(97),c=a(l),i=n(95),u=(a(i),n(56)),p=r(u);p.Render({root:"body"}),e.render(location.search.startsWith("?q=")?t.createElement(c.default,null):t.createElement(s.default,null),$(".main")[0])}).call(t,n(34),n(5))},95:function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(t){function s(){return n(this,s),r(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return a(s,t),o(s,[{key:"render",value:function(){return e.createElement("div",null," Controlbar ")}}]),s}(e.Component);t.default=s}).call(t,n(5))},96:function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(33),i=r(c),u=function(t){function n(){return a(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),l(n,[{key:"onKeyDown",value:function(){13==event.keyCode&&this.search(event.target.value)}},{key:"onClick",value:function(){this.search(this.refs.search.refs.target.value)}},{key:"search",value:function(e){window.location.href=window.location.origin+window.location.pathname+("?q="+e)}},{key:"render",value:function(){var t=this;return e.createElement("div",{className:"entry"},e.createElement("div",{className:"logo"},e.createElement("img",{src:"./assets/images/logo@2x.png"})),e.createElement("div",{className:"searchbar"},e.createElement("div",{className:"search"},e.createElement(i.default,{ref:"search",placeholder:"请输入查询的关键字",onKeyDown:function(){return t.onKeyDown()}}),e.createElement("span",{className:"bar",onClick:function(){return t.onClick()}}))),e.createElement("div",{className:"desc"},"一个便捷的 v2ex 搜索引擎，",e.createElement("a",{href:"https://github.com/Bynil/sov2ex",target:"_blank"},"了解更多"),"  。"))}}]),n}(e.Component);t.default=u}).call(t,n(5))},97:function(e,t,n){(function(e,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(33),p=a(u),m=n(55),f=a(m),h=function(t){return e.createElement("div",{className:"resultcard"},e.createElement("div",{className:"title"},e.createElement("a",{href:"http://www.v2ex.com/t/"+t.id,target:"_blank"},t.title)),e.createElement("div",{className:"desc"},t.content),e.createElement("div",{className:"details"},e.createElement("a",{href:"https://www.v2ex.com/member/"+t.member,target:"_blank"},t.member)," 于 ",e.createElement("span",{className:"date"},t.created.replace("T"," "))," 发表，共计 ",e.createElement("span",{className:"replies"},t.replies," 个回复")))},d=function(t){return e.createElement("div",{className:"empty"},e.createElement("span",{className:"bg"}),t.text)},v=function(){return e.createElement("div",{className:"loading"},e.createElement("svg",{className:"spinner",width:"100",height:"100",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{className:"path",fill:"none",strokeWidth:"3",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})))},b=function(t){return e.createElement("div",{className:"pagingbg",style:t.style},e.createElement("div",{className:"paginghr"},e.createElement("div",{className:"divider"}),e.createElement("span",{className:"page"},"第 "+t.page+" 页，共计 "+t.count+" 页"),e.createElement("div",{className:"divider"})))},y=function(t){function n(){var e,t,r,a;o(this,n);for(var l=arguments.length,c=Array(l),i=0;i<l;i++)c[i]=arguments[i];return t=r=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(c))),r.state={cost:void 0,list:[],count:0,disable:!1},a=t,s(r,a)}return l(n,t),i(n,[{key:"onClick",value:function(){this.search(this.refs.search.refs.target.value)}},{key:"onKeyDown",value:function(){13==event.keyCode&&this.search(event.target.value)}},{key:"search",value:function(e){""!=e.trim()?window.location.href=window.location.origin+window.location.pathname+("?q="+e):(new r).Render("不能为空，请输入正确的值。")}},{key:"validation",value:function(e,t){switch(e){case"page":(!/[1-9]+/.test(t)||t<1)&&(t=1,(new r).Render(2,"page 参数错误，取值范围最小值为 1 的正整数，请确认。"));break;case"size":(!/[1-9]+/.test(t)||t<1||t>50)&&(t=10,(new r).Render(2,"size 参数错误，取值范围 1 ~ 50 的正整数，请确认。"));break;case"order":[0,1].includes(t)||(t=0,(new r).Render(2,"order 参数错误，取值范围 0 和 1，请确认。"));break;case"sort":["sumup","created"].includes(t)||(t="sumup",(new r).Render(2,"sort 参数错误，取值范围 sumup 和 created，请确认。"))}return t}},{key:"parse",value:function(e){var t=Math.floor(e.total/this.props.size),n=this.state.list.concat(e.hits);this.setState({list:n,cost:{took:e.took,total:e.total},disable:this.props.page>=t,count:0==t?1:t})}},{key:"fetch",value:function(){var e=this,t=this.props.page-1,n=t*this.props.size+t;$.ajax({url:this.props.url+"?q="+this.props.q+"&sort="+this.props.sort+"&order="+this.props.order+"&from="+n+"&size="+this.props.size,dataType:"json",crossDomain:!0}).done(function(t){e.parse(t)}).fail(function(e){(new r).Render(2,"当前发生了一些错误，请稍候再使用此服务。")})}},{key:"onClick",value:function(){this.props.page++,this.props.page>this.state.count?(this.setState({disable:!0}),(new r).Render("当前已经是最后一页。")):(this.fetch(),/page=\d+/.test(window.location.search)&&history.pushState("","",window.location.search.replace(/page=\d+/,"page="+this.props.page)))}},{key:"componentWillMount",value:function(){var e=this;if(location.search.startsWith("?q=")){var t=window.location.search.replace("?","").split("&");t&&t.length>0&&t.forEach(function(t){var n=t.split("="),r=c(n,2),a=r[0],o=r[1];e.props[a]=e.validation(a,o)}),""!=this.props.q&&this.fetch(),""!=this.props.q&&$("head title").text(decodeURI(this.props.q)+" - SOV2EX 搜索结果")}else(new r).Render("搜索发送了错误，请重新打开本页。")}},{key:"render",value:function(){var t=this,n=!1,r=this.state.list.map(function(t){return e.createElement(h,t._source)});return this.state.cost?0==this.state.cost.total?(n=!0,r=e.createElement(d,{text:"Oops~ 并未搜索到任何内容，请重新确认搜索关键字!"})):this.props.page>this.state.count&&(n=!0,r=e.createElement(d,{text:"关键字："+this.props.q+" 查询结果共有 "+this.state.count+" 页，已超过最大页数，请重新确认。"})):(n=!0,r=e.createElement(v,null)),e.createElement("div",{className:"searchpage",style:{height:n?"100%":"auto"}},e.createElement("div",{className:"top"},e.createElement("div",{className:"logo"},e.createElement("a",{href:"https://sov2ex.com"},e.createElement("img",{src:"./assets/images/logo@1x.png"}))),e.createElement("div",{className:"searchbar"},e.createElement("div",{className:"search"},e.createElement(p.default,{ref:"search",value:decodeURI(this.props.q),placeholder:"请输入查询的关键字",onKeyDown:function(){return t.onKeyDown()}}),e.createElement("span",{className:"bar",onClick:function(){return t.onClick()}}))),e.createElement("div",{className:"placeholder"})),e.createElement("div",{className:"cost",style:{visibility:n?"hidden":"visible"}},e.createElement("span",null,"共计 ",this.state.cost&&this.state.cost.total," 个结果，耗时 ",this.state.cost&&this.state.cost.took," 毫秒")),e.createElement("div",{className:"searchresults",style:{height:n?"100%":"auto"}},r),e.createElement(b,{page:this.props.page,count:this.state.count,style:{visibility:n?"hidden":"visible"}}),e.createElement("div",{className:"paging",style:{visibility:n?"hidden":"visible"}},e.createElement(f.default,{type:"raised",text:this.state.disable?"已全部加载完毕":"加载更多",disable:this.state.disable,color:"#fff",backgroundColor:"rgba(3, 169, 244, 1)",waves:"md-waves-effect md-waves-button",onClick:function(){return t.onClick()}})),e.createElement("div",{className:"footer"},e.createElement("div",{className:"groups"},e.createElement("div",{className:"links"},e.createElement("a",{href:"https://sov2ex.com",className:"logo"},e.createElement("img",{src:"./assets/images/logo@1x.png"})),e.createElement("ul",null,e.createElement("li",null,e.createElement("a",{target:"_blank",href:"http://service.weibo.com/share/share.php?url=https://sov2ex.com&title=SOV2EX - 一个便捷的 v2ex 站内搜索引擎"},e.createElement("span",{className:"icon weibo"}))),e.createElement("li",null,e.createElement("a",{target:"_blank",href:"https://www.douban.com/share/service?href=https://sov2ex.com&name=SOV2EX - 一个便捷的 v2ex 站内搜索引擎"},e.createElement("span",{className:"icon douban"}))),e.createElement("li",null,e.createElement("a",{target:"_blank",href:"https://twitter.com/intent/tweet?text=SOV2EX - 一个便捷的 v2ex 站内搜索引擎&url=https://sov2ex.com"},e.createElement("span",{className:"icon twitter"}))),e.createElement("li",null,e.createElement("a",{target:"_blank",href:"https://www.facebook.com/sharer.php?u=https://sov2ex.com"},e.createElement("span",{className:"icon facebook"}))),e.createElement("li",null,e.createElement("a",{target:"_blank",href:"https://plus.google.com/share?url=https://sov2ex.com"},e.createElement("span",{className:"icon gplus"}))),e.createElement("li",null,e.createElement("a",{target:"_blank",href:"https://t.me/share/url?url=https://sov2ex.com"},e.createElement("span",{className:"icon telegram"}))))),e.createElement("div",{className:"links"},e.createElement("h2",null,"链接"),e.createElement("a",{href:"https://github.com/Bynil/sov2ex",target:"_blank"},"关于"),e.createElement("a",{href:"https://github.com/Bynil/sov2ex",target:"_blank"},"API 文档"),e.createElement("a",{href:"https://github.com/Bynil/sov2ex/issues",target:"_blank"},"提交问题"))),e.createElement("div",{className:"copywrite"},e.createElement("span",null,"SOV2EX - 一个便捷的 v2ex 站内搜索引擎")," ",e.createElement("span",null," © 2017 ",e.createElement("a",{href:"https://sov2ex.com"},"sov2ex.com")," by ",e.createElement("a",{href:"http://www.gexiao.me/",target:"_blank"},"默默")," & ",e.createElement("a",{href:"http://kenshin.wang",target:"_blank"},"Kenshin Wang")))))}}]),n}(e.Component);y.defaultProps={url:"https://www.sov2ex.com/api/search",q:void 0,page:1,size:10,sort:"sumup",order:0,gte:0,lte:0},y.propTypes={page:e.PropTypes.number,size:e.PropTypes.number,order:e.PropTypes.oneOf([0,1]),sort:e.PropTypes.oneOf(["sumup","created"])},t.default=y}).call(t,n(5),n(57))},109:function(e,t){},110:function(e,t){}});